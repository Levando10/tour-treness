<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title>Travel HTML-5 Template</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Multi-step Form</title>
    <link rel="shortcut icon" type="image/x-icon" href="img/favicon.png" />
    <!-- Bootstrap 4.1.3 CSS -->
    <link
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- CSS here -->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="assets/css/owl.carousel.min.css" />
    <link rel="stylesheet" href="assets/css/slicknav.css" />
    <link rel="stylesheet" href="assets/css/animate.min.css" />
    <link rel="stylesheet" href="assets/css/magnific-popup.css" />
    <link rel="stylesheet" href="assets/css/fontawesome-all.min.css" />
    <link rel="stylesheet" href="assets/css/themify-icons.css" />
    <link rel="stylesheet" href="assets/css/themify-icons.css" />
    <link rel="stylesheet" href="assets/css/slick.css" />
    <link rel="stylesheet" href="assets/css/nice-select.css" />
    <link rel="stylesheet" href="assets/css/style.css" />
    <link rel="stylesheet" href="assets/css/responsive.css" />
    <style>
      span {
        font-family: "Barlow Condensed" !important;
        color: #264247;
        font-weight: 500;
      }
      .step-header {
        display: inline-block;
        padding: 10px 20px;
        cursor: pointer;
        font-weight: bold;
      }

      .step-header.active {
        background-color: rgb(5, 100, 5);
        color: #fff;
        border-radius: 5px;
      }

      .step-container {
        padding: 20px;
        display: none;
        opacity: 0;
        transition: opacity 0.5s ease;
        height: 565.59px !important;
      }

      .step-container.active {
        display: block;
        opacity: 1;
        max-height: 567px;
        overflow: auto;
        scroll-behavior: smooth; /* Hiệu ứng cuộn mượt */
      }

      /* Tùy chỉnh thanh cuộn (scrollbar) */
      .step-container.active::-webkit-scrollbar {
        width: 8px; /* Độ rộng của thanh cuộn */
      }

      /* Tùy chỉnh thanh cuộn - phần "track" */
      .step-container.active::-webkit-scrollbar-track {
        background: #f1f1f1; /* Màu nền của thanh cuộn */
        border-radius: 10px;
      }

      /* Tùy chỉnh thanh cuộn - phần "thumb" */
      .step-container.active::-webkit-scrollbar-thumb {
        background: #888; /* Màu của thanh kéo cuộn */
        border-radius: 10px; /* Bo tròn góc */
      }

      /* Khi hover vào thanh cuộn */
      .step-container.active::-webkit-scrollbar-thumb:hover {
        background: #555; /* Màu thanh kéo cuộn khi hover */
      }

      .card {
        border: none;
        text-align: center;
      }

      .step-image {
        width: 100%;
        height: auto;
        max-height: 200px;
        object-fit: cover;
        margin-bottom: 10px;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        border-radius: 4px;
      }

      .step-image:hover {
        transform: scale(1.05);
        box-shadow: 0px 4px 15px rgba(0, 0, 0, 0.3);
      }

      .other-destinations textarea {
        width: 100%;
        min-height: 100px;
      }

      .next-step-btn {
        background-color: rgb(5, 100, 5);
        color: #fff;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
      }

      .step-navigation {
        text-align: right;
        margin-top: 20px;
        display: flex;
        justify-content: space-between;
      }

      .prev-step-btn {
        background-color: #6c757d; /* Màu xám */
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        margin-right: 10px; /* Khoảng cách giữa 2 nút */
      }
    </style>
  </head>
  <body>
    <!-- <div id="preloader-active">
      <div class="preloader d-flex align-items-center justify-content-center">
        <div class="preloader-inner position-relative">
          <div class="preloader-circle"></div>
          <div class="preloader-img pere-text">
            <img src="assets/img/logo/back-tre.png" alt="" />
          </div>
        </div>
      </div>
    </div> -->
    <div id="header-placeholder"></div>

    <main>
      <div class="container">
        <!-- Step Navigation Headers -->
        <div class="step-headers text-center">
          <span class="step-header active" onclick="showStep(1)"
            >Step 1: Your Destinations</span
          >
          <span class="step-header" onclick="showStep(2)"
            >Step 2: Your Interests</span
          >
          <span class="step-header" onclick="showStep(3)"
            >Step 3: Your Tour</span
          >
          <span class="step-header" onclick="showStep(4)"
            >Step 4: Your Details</span
          >
        </div>

        <!-- Step 1: Your Destinations -->
        <div class="step-container active" id="step-1">
          <h3 class="text-center">Step 1: Your Destinations</h3>
          <div class="row">
            <div class="col-md-4">
              <div class="card">
                <label class="custom-checkbox">
                  <img
                    src="assets/img/service/hoian.jpg"
                    class="step-image"
                    alt="Hanoi"
                  />
                  <input type="checkbox" /> Ha Noi
                </label>
              </div>
            </div>
            <div class="col-md-4">
              <div class="card">
                <label class="custom-checkbox">
                  <img
                    src="assets/img/service/hoian.jpg"
                    class="step-image"
                    alt="Hue"
                  />
                  <input type="checkbox" /> Hue
                </label>
              </div>
            </div>
            <div class="col-md-4">
              <div class="card">
                <label class="custom-checkbox">
                  <img
                    src="assets/img/service/hoian.jpg"
                    class="step-image"
                    alt="DaNang"
                  />
                  <input type="checkbox" /> Da Nang
                </label>
              </div>
            </div>
            <div class="col-md-4">
              <div class="card">
                <label class="custom-checkbox">
                  <img
                    src="assets/img/service/hoian.jpg"
                    class="step-image"
                    alt="HoiAn"
                  />
                  <input type="checkbox" /> Hoi An
                </label>
              </div>
            </div>
            <div class="col-md-4">
              <div class="card">
                <label class="custom-checkbox">
                  <img
                    src="assets/img/service/hagiang.jpg"
                    class="step-image"
                    alt="NinhBinh"
                  />
                  <input type="checkbox" /> Ninh Binh
                </label>
              </div>
            </div>
            <div class="col-md-4">
              <div class="card">
                <label class="custom-checkbox">
                  <img
                    src="https://via.placeholder.com/300x200"
                    class="step-image"
                    alt="QuangNinh"
                  />
                  <input type="checkbox" /> Quang Ninh
                </label>
              </div>
            </div>
          </div>
        </div>

        <!-- Step 2: Your Interests -->
        <div class="step-container" id="step-2">
          <h3 class="text-center">Step 2: Your Interests</h3>
          <div class="row">
            <div class="col-md-4">
              <div class="card">
                <label>
                  <img
                    src="https://via.placeholder.com/300x200"
                    class="step-image"
                    alt="Culture & Heritages"
                  />
                  <input type="checkbox" /> Culture & Heritages
                </label>
              </div>
            </div>
            <div class="col-md-4">
              <div class="card">
                <label>
                  <img
                    src="https://via.placeholder.com/300x200"
                    class="step-image"
                    alt="Culture & Heritages"
                  />
                  <input type="checkbox" /> Culture & Heritages
                </label>
              </div>
            </div>
            <div class="col-md-4">
              <div class="card">
                <label>
                  <img
                    src="https://via.placeholder.com/300x200"
                    class="step-image"
                    alt="Culture & Heritages"
                  />
                  <input type="checkbox" /> Culture & Heritages
                </label>
              </div>
            </div>
            <div class="col-md-4">
              <div class="card">
                <label>
                  <img
                    src="https://via.placeholder.com/300x200"
                    class="step-image"
                    alt="Culture & Heritages"
                  />
                  <input type="checkbox" /> Culture & Heritages
                </label>
              </div>
            </div>
            <div class="col-md-4">
              <div class="card">
                <label>
                  <img
                    src="https://via.placeholder.com/300x200"
                    class="step-image"
                    alt="Culture & Heritages"
                  />
                  <input type="checkbox" /> Culture & Heritages
                </label>
              </div>
            </div>
            <div class="col-md-4">
              <div class="card">
                <label>
                  <img
                    src="https://via.placeholder.com/300x200"
                    class="step-image"
                    alt="Culture & Heritages"
                  />
                  <input type="checkbox" /> Culture & Heritages
                </label>
              </div>
            </div>
          </div>
        </div>

        <!-- Step 3: Your Tour -->
        <div class="step-container" id="step-3">
          <h3 class="text-center">Step 3: Your Tour</h3>
        </div>

        <!-- Step 4: Image Search -->
        <div class="step-container" id="step-4">
          <h3 class="text-center">Step 4: Your Details</h3>
          <form>
            <div class="form-group">
              <label for="name">Your Name</label>
              <input
                type="text"
                class="form-control"
                id="name"
                placeholder="Enter your name"
              />
            </div>
            <div class="form-group">
              <label for="email">Your Email</label>
              <input
                type="email"
                class="form-control"
                id="email"
                placeholder="Enter your email"
              />
            </div>
            <div class="form-group">
              <label for="comments">Additional Comments</label>
              <textarea
                class="form-control"
                id="comments"
                rows="3"
                placeholder="Any additional comments"
              ></textarea>
            </div>
          </form>
        </div>

        <!-- Step Navigation Buttons -->
        <div class="step-navigation">
          <button
            class="prev-step-btn"
            onclick="prevStep()"
            style="display: none"
          >
            Prev Step
          </button>
          <button class="next-step-btn" onclick="nextStep()">Next Step</button>
        </div>

        <!-- Favourite Places Start -->
        <div id="wellnessTour-placeholder"></div>
        <!-- Favourite Places End -->
      </div>

      <!-- Blog Area End -->
      <div id="footer-placeholder"></div>
    </main>

    <!-- Bootstrap 4.1.3 JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <script src="./assets/js/vendor/modernizr-3.5.0.min.js"></script>
    <script src="./assets/js/vendor/jquery-1.12.4.min.js"></script>
    <script src="./assets/js/popper.min.js"></script>
    <script src="./assets/js/bootstrap.min.js"></script>
    <script src="./assets/js/jquery.slicknav.min.js"></script>
    <script src="./assets/js/owl.carousel.min.js"></script>

    <script src="./assets/js/slick.min.js"></script>
    <script src="./assets/js/wow.min.js"></script>
    <script src="./assets/js/animated.headline.js"></script>
    <script src="./assets/js/jquery.magnific-popup.js"></script>
    <script src="./assets/js/jquery.scrollUp.min.js"></script>
    <script src="./assets/js/jquery.nice-select.min.js"></script>
    <script src="./assets/js/jquery.sticky.js"></script>
    <script src="./assets/js/contact.js"></script>

    <script src="./assets/js/jquery.form.js"></script>
    <script src="./assets/js/jquery.validate.min.js"></script>
    <script src="./assets/js/mail-script.js"></script>
    <script src="./assets/js/jquery.ajaxchimp.min.js"></script>
    <script src="./assets/js/plugins.js"></script>

    <script src="./assets/js/main.js"></script>
    <script>
      let selectedDestinations = [];
      const prevBtn = document.querySelector(".prev-step-btn");
      let currentStep = 1;

      const destinationImages = {
        "Hue": "assets/img/service/hoian.jpg",
        "Ha Noi": "assets/img/service/Khanh_hoa.jpeg",
        "Da Nang": "assets/img/service/hoian.jpg",
        "Hoi An": "assets/img/service/Khanh_hoa.jpeg",
        "Ninh Binh": "assets/img/service/hagiang.jpg",
        "Quang Ninh": "assets/img/service/hoian.jpg",
      };

      function showStep(step) {
        // Tắt hiện step hiện tại với độ trễ
        document
          .querySelectorAll(".step-container")
          .forEach((container, index) => {
            if (index + 1 === currentStep) {
              container.style.opacity = "0"; // Ẩn dần
              setTimeout(() => container.classList.remove("active"), 500); // Ẩn sau khi hiệu ứng chạy xong
            }
          });

        // Hiển thị step mới với độ trễ
        setTimeout(() => {
          document
            .querySelectorAll(".step-container")
            .forEach((container, index) => {
              if (index + 1 === step) {
                container.classList.add("active");
                setTimeout(() => (container.style.opacity = "1"), 1); // Hiển thị dần
              }
            });
        }, 500);

        // Cập nhật class active cho tiêu đề các step
        document.querySelectorAll(".step-header").forEach((header, index) => {
          header.classList.toggle("active", index + 1 === step);
        });

        updateNavigationButtons(step);
        currentStep = step;
        if (step === 3) {
          updateSelectedDestinations();
          renderStep3(); // Cập nhật nội dung cho step 3 dựa trên các lựa chọn
        }
      }

      function nextStep() {
        if (currentStep < 4) {
          showStep(currentStep + 1);
        }
      }

      function prevStep() {
        if (currentStep > 1) {
          showStep(currentStep - 1);
        }
      }

      function updateNavigationButtons(step) {
        const prevBtn = document.querySelector(".prev-step-btn");
        const nextBtn = document.querySelector(".next-step-btn");

        if (step === 1) {
          prevBtn.style.display = "none";
          nextBtn.style.display = "inline-block";
        } else if (step === 2) {
          prevBtn.style.display = "inline-block";
          nextBtn.style.display = "inline-block";
        } else if (step === 3) {
          prevBtn.style.display = "inline-block";
          nextBtn.style.display = "inline-block";
        } else if (step === 4) {
          prevBtn.style.display = "inline-block";
          nextBtn.style.display = "none";
        }
      }

      function updateSelectedDestinations() {
        selectedDestinations = [];
        document
          .querySelectorAll("#step-1 input[type='checkbox']")
          .forEach((checkbox, index) => {
            if (checkbox.checked) {
              selectedDestinations.push(
                checkbox.parentElement.textContent.trim()
              );
            }
          });

        // Nếu không có lựa chọn nào, thêm "Hanoi" vào mặc định
        if (selectedDestinations.length === 0) {
          selectedDestinations.push("Ha Noi");
        }
      }

      function renderStep3() {
        const step3Container = document.getElementById("step-3");
        let htmlContent = "<h3 class='text-center'>Step 3: Your Tour</h3>";

        // Duyệt qua danh sách các địa điểm đã chọn và tạo các row tương ứng
        selectedDestinations.forEach((destination) => {
          let details = "";

          // Kiểm tra và thêm chi tiết cho từng điểm đến
          if (destination === "Hue") {
            details = `
        <ul>
          <li><input type="checkbox" /> 45-minute walking meditation session.</li>
          <li><input type="checkbox" /> Visit Hiên Trà Nhị Độ Mai for a lotus tea-making session.</li>
          <li><input type="checkbox" /> Enjoy a spa treatment at the resort.</li>
          <li><input type="checkbox" /> Explore the farm and relax with a natural hot mineral spring experience at Alba.</li>
          <li><input type="checkbox" /> Participate in a sound healing session with traditional instruments.</li>
          <li><input type="checkbox" /> Visit a Traditional Craft Village to make and design conical hats.</li>
        </ul>
      `;
          } else if (destination === "Ha Noi") {
            details = `
        <ul>
          <li><input type="checkbox" /> Visit Ho Chi Minh Mausoleum.</li>
          <li><input type="checkbox" /> Explore the Old Quarter by cyclo.</li>
          <li><input type="checkbox" /> Attend a traditional water puppet show.</li>
          <li><input type="checkbox" /> Visit the Temple of Literature.</li>
        </ul>
      `;
          } else if (destination === "Da Nang") {
            details = `
        <ul>
          <li><input type="checkbox" /> Join a lantern-making workshop.</li>
          <li><input type="checkbox" /> Explore the ancient town of Hoi An.</li>
          <li><input type="checkbox" /> Take a cooking class with a local chef.</li>
        </ul>
      `;
          } else if (destination === "Hoi An") {
            details = `
        <ul>
          <li><input type="checkbox" /> Join a lantern-making workshop.</li>
          <li><input type="checkbox" /> Explore the ancient town of Hoi An.</li>
          <li><input type="checkbox" /> Take a cooking class with a local chef.</li>
        </ul>
      `;
          } else if (destination === "Ninh Binh") {
            details = `
        <ul>
          <li><input type="checkbox" /> Join a lantern-making workshop.</li>
          <li><input type="checkbox" /> Explore the ancient town of Hoi An.</li>
          <li><input type="checkbox" /> Take a cooking class with a local chef.</li>
        </ul>
      `;
          } else if (destination === "Quang Ninh") {
            details = `
        <ul>
          <li><input type="checkbox" /> Join a lantern-making workshop.</li>
          <li><input type="checkbox" /> Explore the ancient town of Hoi An.</li>
          <li><input type="checkbox" /> Take a cooking class with a local chef.</li>
        </ul>
      `;
          }

      // Lấy URL ảnh từ đối tượng destinationImages
    const imageUrl = destinationImages[destination] || "https://via.placeholder.com/300x200";

          // Tạo ra thẻ HTML cho từng địa điểm đã chọn
          htmlContent += `
      <div class="row mb-4">
        <!-- Cột bên trái: hình ảnh -->
        <div class="col-md-5">
          <div class="card">
            <img src="${imageUrl}" class="step-image" alt="${destination}" />
          </div>
        </div>

        <!-- Cột bên phải: tên tour và các chi tiết -->
        <div class="col-md-7 d-flex flex-column">
          <h4>${destination}</h4>
          <div class="tour-details">
            ${details}
          </div>
        </div>
      </div>
    `;
        });

        step3Container.innerHTML = htmlContent;
      }

      fetch("footer.html")
        .then((response) => response.text())
        .then((data) => {
          document.getElementById("footer-placeholder").innerHTML = data;
          initializePlugins();
        })
        .catch((error) => console.error("Error loading footer:", error));

      fetch("header.html")
        .then((response) => response.text())
        .then((data) => {
          document.getElementById("header-placeholder").innerHTML = data;
          initializePlugins();
        })
        .catch((error) => console.error("Error loading header:", error));

      fetch("wellnessTour.html")
        .then((response) => response.text())
        .then((data) => {
          document.getElementById("wellnessTour-placeholder").innerHTML = data;
          initializePlugins();
        })
        .catch((error) => console.error("Error loading wellnessTour:", error));
    </script>
  </body>
</html>
